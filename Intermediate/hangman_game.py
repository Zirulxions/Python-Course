import os
import random

def ascii_title():
    os.system("cls")
    ascii_label = """
    ***************************************************
    *  _                                              *
    * | |                                             *
    * | |__   __ _ _ __   __ _ _ __ ___   __ _ _ __   *
    * | '_ \ / _` | '_ \ / _` | '_ ` _ \ / _` | '_ \  *
    * | | | | (_| | | | | (_| | | | | | | (_| | | | | *
    * |_| |_|\__,_|_| |_|\__, |_| |_| |_|\__,_|_| |_| *
    *                     __/ |                       *
    *                    |___/                        *
    *                                                 *
    ***************************************************
    """
    print(ascii_label)

def ascii_player(errors):
    ascii_label = ['''
     ____________________
    | .__________))______|
    | | / /      
    | |/ /       
    | | / 
    | |/  
    | | 
    | |       
    | | 
    | |    
    | |    
    | |   
    | |     
    | | 
    | | 
    | |          
    | |          
    | |         
    """"""""""""""""""""""""|
    |"|"""""""""""""""""'"|"|
    | |                   | |
    : :                   : :
    : :                   : :
    ''',
    '''
     ____________________
    | .__________))______|
    | | / /      ||
    | |/ /       ||
    | | /        ||
    | |/         || 
    | |          || 
    | |     
    | |       
    | |     
    | |       
    | |      
    | |    
    | |    
    | |     
    | |          
    | |          
    | |         
    """"""""""""""""""""""""|
    |"|"""""""""""""""""'"|"|
    | |                   | |
    : :                   : :
    : :                   : :
    ''',
    '''
     ____________________
    | .__________))______|
    | | / /      ||
    | |/ /       ||
    | | /        ||.-''.
    | |/         |/     \\
    | |          ||     |
    | |          (\\__.__/
    | |       
    | |     
    | |       
    | |      
    | |    
    | |    
    | |     
    | |          
    | |          
    | |         
    """"""""""""""""""""""""|
    |"|"""""""""""""""""'"|"|
    | |                   | |
    : :                   : :
    : :                   : :
    ''',
    '''
     ____________________
    | .__________))______|
    | | / /      ||
    | |/ /       ||
    | | /        ||.-''.
    | |/         |/     \\
    | |          ||     |
    | |          (\\__.__/
    | |         .-`--'.
    | |         Y . . Y
    | |          |   | 
    | |          | . |
    | |          |   |
    | |    
    | |     
    | |          
    | |          
    | |         
    """"""""""""""""""""""""|
    |"|"""""""""""""""""'"|"|
    | |                   | |
    : :                   : :
    : :                   : :
    ''',
    '''
     ____________________
    | .__________))______|
    | | / /      ||
    | |/ /       ||
    | | /        ||.-''.
    | |/         |/     \\
    | |          ||     |
    | |          (\\__.__/
    | |         .-`--'.
    | |        /Y . . Y
    | |       // |   |
    | |      //  | . |
    | |     ')   |   |
    | |    
    | |     
    | |          
    | |          
    | |         
    """"""""""""""""""""""""|
    |"|"""""""""""""""""'"|"|
    | |                   | |
    : :                   : :
    : :                   : :
    ''',
    '''
     ____________________
    | .__________))______|
    | | / /      ||
    | |/ /       ||
    | | /        ||.-''.
    | |/         |/     \\
    | |          ||     |
    | |          (\\__.__/
    | |         .-`--'.
    | |        /Y . . Y\\
    | |       // |   | \\\\
    | |      //  | . |  \\\\
    | |     ')   |   |   (`
    | |    
    | |     
    | |          
    | |          
    | |         
    """"""""""""""""""""""""|
    |"|"""""""""""""""""'"|"|
    | |                   | |
    : :                   : :
    : :                   : :
    ''',
    '''
     ____________________
    | .__________))______|
    | | / /      ||
    | |/ /       ||
    | | /        ||.-''.
    | |/         |/     \\
    | |          ||     |
    | |          (\\__.__/
    | |         .-`--'.
    | |        /Y . . Y\\
    | |       // |   | \\\\
    | |      //  | . |  \\\\
    | |     ')   |   |   (`
    | |          ||
    | |          ||
    | |          ||
    | |          ||
    | |         / |
    """"""""""""""""""""""""|
    |"|"""""""""""""""""'"|"|
    | |                   | |
    : :                   : :
    : :                   : :
    ''',
    '''
     ____________________
    | .__________))______|
    | | / /      ||
    | |/ /       ||
    | | /        ||.-''.
    | |/         |/     \\
    | |          ||     |
    | |          (\\__.__/
    | |         .-`--'.
    | |        /Y . . Y\\
    | |       // |   | \\\\
    | |      //  | . |  \\\\
    | |     ')   |   |   (`
    | |          || ||
    | |          || ||
    | |          || ||
    | |          || ||
    | |         / | | \\
    """"""""""""""""""""""""|
    |"|"""""""""""""""""'"|"|
    | |                   | |
    : :                   : :
    : :                   : :
    ''',
    '''
     ____________________
    | .__________))______|
    | | / /      ||
    | |/ /       ||
    | | /        ||.-''.
    | |/         |/     \\
    | |          ||     |
    | |          (\\__.__/   BROOOOO, MAS MATAOO!
    | |         .-`--'.
    | |        /Y . . Y\\
    | |       // |   | \\\\
    | |      //  | . |  \\\\
    | |     ')   |   |   (`
    | |          || ||
    | |          || ||
    | |          || ||
    | |          || ||
    | |         / | | \\
    """"""""""|_`-' `-' |"""|
    |"|"""""""\ \       '"|"|
    | |        \ \        | |
    : :         \ \       : :
    : :          `'       : :
    ''']
    print(str(ascii_label[errors]))

def user_win():
    os.system("cls")
    ascii_label = """                                                                 
                 ,----..                                                          ,--. 
                /   /   \                                   .---.   ,---,       ,--.'| 
        ,---,  /   .     :          ,--,                   /. ./|,`--.' |   ,--,:  : | 
       /_ ./| .   /   ;.  \       ,'_ /|               .--'.  ' ;|   :  :,`--.'`|  ' : 
 ,---, |  ' :.   ;   /  ` ;  .--. |  | :              /__./ \ : |:   |  '|   :  :  | | 
/___/ \.  : |;   |  ; \ ; |,'_ /| :  . |          .--'.  '   \' .|   :  |:   |   \ | : 
 .  \  \ ,' '|   :  | ; | '|  ' | |  . .         /___/ \ |    ' ''   '  ;|   : '  '; | 
  \  ;  `  ,'.   |  ' ' ' :|  | ' |  | |         ;   \  \;      :|   |  |'   ' ;.    ; 
   \  \    ' '   ;  \; /  |:  | | :  ' ;          \   ;  `      |'   :  ;|   | | \   | 
    '  \   |  \   \  ',  / |  ; ' |  | '           .   \    .\  ;|   |  ''   : |  ; .' 
     \  ;  ;   ;   :    /  :  | : ;  ; |            \   \   ' \ |'   :  ||   | '`--'   
      :  \  \   \   \ .'   '  :  `--'   \            :   '  |--" ;   |.' '   : |       
       \  ' ;    `---`     :  ,      .-./             \   \ ;    '---'   ;   |.'       
        `--`                `--`----'                  '---"             '---'        
    """

def user_lost():
    os.system("cls")
    ascii_label = """
                                                        ,--,                                                     
                 ,----..                         ,---.'|       ,----..       ,----..                         
                /   /   \                        |   | :      /   /   \     /   /   \   .--.--.       ,---,. 
        ,---,  /   .     :          ,--,         :   : |     /   .     :   /   .     : /  /    '.   ,'  .' | 
       /_ ./| .   /   ;.  \       ,'_ /|         |   ' :    .   /   ;.  \ .   /   ;.  \  :  /`. / ,---.'   | 
 ,---, |  ' :.   ;   /  ` ;  .--. |  | :         ;   ; '   .   ;   /  ` ;.   ;   /  ` ;  |  |--`  |   |   .' 
/___/ \.  : |;   |  ; \ ; |,'_ /| :  . |         '   | |__ ;   |  ; \ ; |;   |  ; \ ; |  :  ;_    :   :  |-, 
 .  \  \ ,' '|   :  | ; | '|  ' | |  . .         |   | :.'||   :  | ; | '|   :  | ; | '\  \    `. :   |  ;/| 
  \  ;  `  ,'.   |  ' ' ' :|  | ' |  | |         '   :    ;.   |  ' ' ' :.   |  ' ' ' : `----.   \|   :   .' 
   \  \    ' '   ;  \; /  |:  | | :  ' ;         |   |  ./ '   ;  \; /  |'   ;  \; /  | __ \  \  ||   |  |-, 
    '  \   |  \   \  ',  / |  ; ' |  | '         ;   : ;    \   \  ',  /  \   \  ',  / /  /`--'  /'   :  ;/| 
     \  ;  ;   ;   :    /  :  | : ;  ; |         |   ,/      ;   :    /    ;   :    / '--'.     / |   |    \ 
      :  \  \   \   \ .'   '  :  `--'   \        '---'        \   \ .'      \   \ .'    `--'---'  |   :   .' 
       \  ' ;    `---`     :  ,      .-./                      `---`         `---`                |   | ,'   
        `--`                `--`----'                                                             `----'     
                                                                                                             
    """
    print(ascii_label)

def starting():
    ascii_title()
    ascii_player(8)
    input("Presione enter para iniciar..!")

def word_input():
    try:
        data = []
        with open("./hangman_words/hangman.txt","r",encoding="utf-8") as f:
            for line in f:
                data.append(str(line).upper())
        return list(data)
    except:
        pass
    finally:
        f.close()

def word_choice():
    word_select = [letter for letter in (map(lambda x: x.strip(), str(random.choice(word_input()))))]
    try:
        word_select.remove('')
    except:
        pass
    return word_select

def user_play(list_word,user_letter,places):
    # places = [user_letter if user_letter == list_word[i] else "_" for i in range(len(list_word))]
    try:
        list_word.index(user_letter)
        for i in range (len(list_word)):
            if user_letter == list_word[i]:
                places[i] = user_letter
        return places
    except ValueError:
        return False

def run():
    # Choosing words and Start
    os.system("cls")
    starting()
    word = word_choice()
    spaces = ["_" for value in word]
    repeat = 1
    errors = 0
    used_letters = []
    while repeat == 1:
        ascii_title()
        ascii_player(errors)
        print("Adivina la palabra !")
        print(f"Errores {errors}")
        print("Letras Usadas: ",end = " ")
        for letters in used_letters:
            print(letters,end = " ")
        print("\n")
        for sting in spaces:
            print(sting, end = " ")
        letter = str(input("\nIngrese una letra: "))
        result = user_play(word,letter.upper(),spaces)
        if result == False:
            errors += 1
            if errors == 8:
                repeat = 0
        else:
            spaces = result
        del result
        try:
            spaces.index("_")
        except:
            user_win()
        try:
            used_letters.index(letter.upper())
        except:
            used_letters.append(letter.upper())
        finally:
            used_letters.sort()
    user_lost()


if __name__ == '__main__':
    run()